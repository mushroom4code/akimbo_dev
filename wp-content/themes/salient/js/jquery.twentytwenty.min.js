!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(i,e){var c=6,d=i.event.add,a=i.event.remove,s=function(t,e,n){i.event.trigger(e,n,t)},o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},n={textarea:!0,input:!0,select:!0,button:!0},u={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},f="touchmove",r="touchend",t="touchend";function m(t){var n=t,i=!1,a=!1;function e(t){i?(n(),o(e),i=!(a=!0)):a=!1}this.kick=function(t){i=!0,a||e()},this.end=function(t){var e=n;t&&(a?(n=i?function(){e(),t()}:t,i=!0):t())}}function p(){return!0}function v(){return!1}function g(t){t.preventDefault()}function l(t){n[t.target.tagName.toLowerCase()]||t.preventDefault()}function h(t,e){var n,i;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,i=t.length;++n<i;)if(t[n].identifier===e)return t[n]}function w(t,e){t=h(t.changedTouches,e.identifier);if(t&&(t.pageX!==e.pageX||t.pageY!==e.pageY))return t}function y(t){k(t,t.data,t,X)}function Y(t){X()}function X(){a(document,u.move,y),a(document,u.cancel,Y)}function T(t){var e=t.data,n=w(t,e);n&&k(t,e,n,_)}function S(t){var e=t.data;h(t.changedTouches,e.identifier)&&_(e.identifier)}function _(t){a(document,"."+t,T),a(document,"."+t,S)}function k(t,e,n,i){var a,o,r=n.pageX-e.startX,d=n.pageY-e.startY;r*r+d*d<c*c||(a=t,t=n,n=r,r=d,d=i,(i=e).target,e=a.targetTouches,o=a.timeStamp-i.timeStamp,i.type="movestart",i.distX=n,i.distY=r,i.deltaX=n,i.deltaY=r,i.pageX=t.pageX,i.pageY=t.pageY,i.velocityX=n/o,i.velocityY=r/o,i.targetTouches=e,i.finger=e?e.length:1,i._handled=x,i._preventTouchmoveDefault=function(){a.preventDefault()},s(i.target,i),d(i.identifier))}function x(){return this._handled=p,!1}function C(t){t._handled()}function D(t){var e=t.data.timer;(t.data.touch=t).data.timeStamp=t.timeStamp,e.kick()}function b(t){var e=t.data.event,t=t.data.timer;a(document,u.move,D),a(document,u.end,b),F(e,t,function(){setTimeout(function(){a(e.target,"click",v)},0)})}function q(t){var e=t.data.event,n=t.data.timer,i=w(t,e);i&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=i,t.data.timeStamp=t.timeStamp,n.kick())}function A(t){var e=t.data.event,n=t.data.timer;h(t.changedTouches,e.identifier)&&(t=e,a(document,"."+t.identifier,q),a(document,"."+t.identifier,A),F(e,n))}function F(t,e,n){e.end(function(){return t.type="moveend",s(t.target,t),n&&n()})}if(i.event.special.movestart={setup:function(t,e,n){return d(this,"movestart.move",C),!0},teardown:function(t){return a(this,"dragstart drag",g),a(this,"mousedown touchstart",l),a(this,"movestart",C),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(d(this,"dragstart."+t.guid+" drag."+t.guid,g,e,t.selector),d(this,"mousedown."+t.guid,l,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(a(this,"dragstart."+t.guid+" drag."+t.guid),a(this,"mousedown."+t.guid))},_default:function(a){var o,r;a._handled()&&(o={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,targetTouches:a.targetTouches,finger:a.finger},r={event:o,timer:new m(function(t){var e,n,i;e=o,n=r.touch,i=r.timeStamp,i-=e.timeStamp,e.type="move",e.distX=n.pageX-e.startX,e.distY=n.pageY-e.startY,e.deltaX=n.pageX-e.pageX,e.deltaY=n.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/i,e.velocityY=.3*e.velocityY+.7*e.deltaY/i,e.pageX=n.pageX,e.pageY=n.pageY,s(a.target,o)}),touch:e,timeStamp:e},a.identifier===e?(d(a.target,"click",v),d(document,u.move,D,r),d(document,u.end,b,r)):(a._preventTouchmoveDefault(),d(document,f+"."+a.identifier,q,r),d(document,t+"."+a.identifier,A,r)))}},i.event.special.move={setup:function(){d(this,"movestart.move",i.noop)},teardown:function(){a(this,"movestart.move",i.noop)}},i.event.special.moveend={setup:function(){d(this,"movestart.moveend",i.noop)},teardown:function(){a(this,"movestart.moveend",i.noop)}},d(document,"mousedown.move",function(t){var e;1!==(e=t).which||e.ctrlKey||e.altKey||(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},d(document,u.move,y,e),d(document,u.cancel,Y,e))}),d(document,"touchstart.move",function(t){var e;n[t.target.tagName.toLowerCase()]||(t={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},d(document,f+"."+e.identifier,T,t),d(document,r+"."+e.identifier,S,t))}),"function"==typeof Array.prototype.indexOf)for(var z=i,R=["changedTouches","targetTouches"],j=R.length;j--;)-1===z.event.props.indexOf(R[j])&&z.event.props.push(R[j])}),function(v){v.fn.twentytwenty=function(p){p=v.extend({default_offset_pct:.5,orientation:"horizontal"},p);return this.each(function(){function e(t){t=s(t),c.css("vertical"===a?"top":"left","vertical"===a?t.ch:t.cw),u(t)}var n=p.default_offset_pct,i=v(this),a=p.orientation,t="vertical"===a?"down":"left",o="vertical"===a?"up":"right",r=(i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),i.append("<div class='twentytwenty-overlay'></div>"),i.find("img:first")),d=i.find("img:last"),c=(i.append("<div class='twentytwenty-handle'></div>"),i.find(".twentytwenty-handle")),t=(c.append("<span class='twentytwenty-"+t+"-arrow'></span>"),c.append("<span class='twentytwenty-"+o+"-arrow'></span>"),i.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),d.addClass("twentytwenty-after"),i.find(".twentytwenty-overlay")),s=(t.append("<div class='twentytwenty-before-label'></div>"),t.append("<div class='twentytwenty-after-label'></div>"),function(t){var e=r.width(),n=r.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}}),u=function(t){"vertical"===a?r.css("clip","rect(0,"+t.w+","+t.ch+",0)"):r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),i.css("height",t.h)},f=(v(window).on("resize.twentytwenty",function(t){e(n)}),0),m=0;c.on("movestart",function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a)&&t.preventDefault(),i.addClass("active"),f=i.offset().left,offsetY=i.offset().top,m=r.width(),imgHeight=r.height()}),c.on("moveend",function(t){i.removeClass("active")}),c.on("move",function(t){i.hasClass("active")&&(n="vertical"===a?(t.pageY-offsetY)/imgHeight:(t.pageX-f)/m,e(n=1<(n=n<0?0:n)?1:n))}),i.find("img").on("mousedown",function(t){t.preventDefault()}),v(window).trigger("resize.twentytwenty")})}}(jQuery);