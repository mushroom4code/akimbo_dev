!function(){for(var o=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var a=(new Date).getTime(),n=Math.max(0,16-(a-o)),i=window.setTimeout(function(){t(a+n)},n);return o=a+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),jQuery(document).ready(function(y){var e=[];0!=(a=0<y(".nectar-box-roll").length?".nectar-box-roll .shape":".nectar-particles .shape").length&&y(a).each(function(t){e[t]={shape:y(this).attr("data-src"),colorMapping:0<y(this).attr("data-color-mapping").length?y(this).attr("data-color-mapping"):"original",color:0<y(this).attr("data-color").length?y(this).attr("data-color"):"#fefefe",backgroundColor:0<y(this).attr("data-bg-color").length?y(this).attr("data-bg-color"):"transparent",colorAlpha:0<y(this).attr("data-alpha").length?y(this).attr("data-alpha"):"original",density:0<y(this).attr("data-density").length?parseInt(y(this).attr("data-density")):13,densityOriginal:0<y(this).attr("data-density").length?parseInt(y(this).attr("data-density")):13,maxParticleSize:0<y(this).attr("data-max-size").length?parseInt(y(this).attr("data-max-size")):3,maxParticleSizeOriginal:0<y(this).attr("data-max-size").length?parseInt(y(this).attr("data-max-size")):3},y(this).remove()});var M={canvasID:null,drawDistance:28,maxLineThickness:4,reactionSensitivity:3,lineThickness:1,points:[],mouse:{x:2*window.innerWidth,y:2*window.innerHeight,down:!1},animation:null,randomMovement:!1,impulsX:600*Math.random()-300,impulsY:300*-Math.random(),imgsToDraw:e,timeoutHolder:null,totalImgCount:0,loaded:!1,loadedCount:0,canvas:null,context:null,imageInput:null,bgImage:[],onMobile:!1,explodeChance:!0,currentShapeIndex:0,currentSequenceIndex:0,prevShapeIndex:0,sequenceActive:!1,decMultiplier:.02,bgCanvas:null,bgContext:null,bgContextPixelData:null,disableExplosion:y("#page-header-bg .nectar-particles").attr("data-disable-explosion"),rotateTimer:parseInt(y("#page-header-bg .nectar-particles").attr("data-rotation-timing")),regularAnimation:!0,textPosition:y("#page-header-bg").attr("data-alignment-v"),textPositionH:y("#page-header-bg").attr("data-alignment"),fps:43,fpsDec:.13,now:0,then:Date.now(),elapsed:0,init:function(e){this.canvas=y(e)[0],this.context=canvas.getContext("2d"),this.context.globalCompositeOperation="lighter",this.canvas.width=0<y(e).parents(".nectar-box-roll").length?window.innerWidth:y(e).parents("#page-header-bg").outerWidth(!0),this.canvas.height=0<y(e).parents(".nectar-box-roll").length?window.innerHeight:y(e).parents("#page-header-bg").outerHeight(!0),this.canvas.style.display="block",this.canvasID=e,M.canvasBgColor(),this.canvas.width<=690&&(this.onMobile=!0),y("#page-header-bg .nectar-particles").attr("data-rotation-timing").length<1&&(M.rotateTimer=5500),0<y(e).parents(".nectar-box-roll").length?y("body").on("mousemove",function(t){1==M.regularAnimation&&(M.mouse.x=t.clientX,M.mouse.y=t.clientY)}):(y(e).parents(".nectar-particles").on("mousemove",function(t){M.mouse.x=t.clientX-y(this).offset().left,M.mouse.y=t.clientY-y(this).offset().top+y(window).scrollTop()}),y(e).parents(".nectar-particles").on("mouseout",function(){M.mouse.x=1e3,M.mouse.y=-1e3,M.mouse.down=!1})),0<y("#page-header-bg:not(.fullscreen-header)").length&&y(window).width()<1e3&&y(window).load(function(){setTimeout(function(){M.canvas.width=0<y(e).parents(".nectar-box-roll").length?window.innerWidth:y(e).parents("#page-header-bg").outerWidth(!0),M.canvas.height=0<y(e).parents(".nectar-box-roll").length?window.innerHeight:y(e).parents("#page-header-bg").outerHeight(!0),M.onWindowResize()},50)}),window.onresize=function(t){if(void 0!==t.isTrigger)return!1;M.canvas.width=0<y(e).parents(".nectar-box-roll").length?window.innerWidth:y(e).parents("#page-header-bg").outerWidth(!0),M.canvas.height=0<y(e).parents(".nectar-box-roll").length?window.innerHeight:y(e).parents("#page-header-bg").outerHeight(!0),M.onWindowResize()};for(var t=0,a=0;a<M.imgsToDraw.length;a++)if("object"==typeof M.imgsToDraw[a].shape)for(t=0;t<M.imgsToDraw[a].shape.length;t++)this.totalImgCount++;else this.totalImgCount++;for(t=0,a=0;a<M.imgsToDraw.length;a++)if("object"==typeof M.imgsToDraw[a].shape)for(t=0;t<M.imgsToDraw[a].shape.length;t++)this.loadData(M.imgsToDraw[a].shape[t],a,t,!0);else this.loadData(M.imgsToDraw[a].shape,a,null,!1)},preparePoints:function(t,e,a){jQuery.isArray(this.bgImage[t])?("object"!=typeof this.points[t]&&(this.points[t]={}),this.points[t][e]=[]):this.points[t]=[];for(var n,i=this.bgContextPixelData.data,o=0;o<this.canvas.height;o+=this.imgsToDraw[t].density)for(n=0;n<this.canvas.width;n+=this.imgsToDraw[t].density){var s,r,h,l,d=4*(n+o*this.bgContextPixelData.width);if(!(200<i[d]&&200<i[1+d]&&200<i[2+d]||0===i[3+d])){switch(l=0==t?(h=.5<Math.random()?Math.random()*window.innerWidth:Math.random()*-window.innerWidth,s=.5<Math.random()?Math.random()*window.innerHeight:Math.random()*-window.innerHeight,h=Math.random()*(2*window.innerWidth)+h,Math.random()*(2*window.innerHeight)+s):(s=t==this.points.length?0:t-1,jQuery.isArray(this.points[s])||"object"!=typeof this.points[s]?(r=Math.random(),h=this.points[s][Math.floor(r*this.points[s].length)].originalX,this.points[s][Math.floor(r*this.points[s].length)].originalY):(l=e==this.points[s].length?0:e-1,r=Math.random(),h=this.points[s][l][Math.floor(r*this.points[s][l].length)].originalX,this.points[s][l][Math.floor(r*this.points[s][l].length)].originalY)),1==a&&0==M.randomMovement&&"true"==y(M.canvasID).attr("data-loaded")?(h=n+this.ran(-7,7),l=o+this.ran(-7,7)):1==a&&1==M.randomMovement&&"true"==y(M.canvasID).attr("data-loaded")&&(h=Math.random()*window.innerWidth,l=Math.random()*window.innerHeight),this.imgsToDraw[t].colorAlpha){case"original":c=1;break;case"random":var c=Math.random()+.3;1<c&&(c=1)}switch(this.imgsToDraw[t].colorMapping){case"original":var g="rgba("+(p=i[d])+","+(u=i[1+d])+","+(m=i[2+d])+","+c+")";break;case"solid":hex=this.imgsToDraw[t].color.replace("#","");g="rgba("+(p=parseInt(hex.substring(0,2),16))+","+(u=parseInt(hex.substring(2,4),16))+","+(m=parseInt(hex.substring(4,6),16))+","+c+")";break;case"random":var p,u,m,g="rgba("+(p=Math.floor(255*Math.random()))+","+(u=Math.floor(255*Math.random()))+","+(m=Math.floor(255*Math.random()))+","+c+")"}var w=Math.random()<.5,f=Math.random();jQuery.isArray(this.bgImage[t])?this.points[t][e].push({x:n,y:o,originalX:n,originalY:o,seqX:n,seqY:o,sequenceUsed:!1,toX:Math.random()*window.innerWidth,toY:Math.random()*window.innerHeight,color:g,baseRadius:Math.ceil(3*f),baseRadiusOriginal:Math.ceil(3*f),shrinking:!1,shrinkDelay:100*Math.random(),flashSize:w,randomNum:f}):(this.points[t].push({x:h,y:l,originalX:n,originalY:o,toX:Math.random()*window.innerWidth,toY:Math.random()*window.innerHeight,r:p,g:u,b:m,a:c,hiddenDuringTrans:!1,originalAlpha:c,color:g,baseRadius:Math.ceil(f*this.imgsToDraw[t].maxParticleSize),baseRadiusOriginal:Math.ceil(f*this.imgsToDraw[t].maxParticleSize),randomPosX:6*Math.random(),randomPosY:6*Math.random(),shrinking:!1,shrinkDelay:100*Math.random(),flashSize:w,used:!1,duplicate:!1,randomNum:f}),this.points[t].baseRadius<1&&(this.points[t].baseRadius=1,this.points[t].baseRadiusOriginal=1))}}for(var x=0;x<this.points[t].length;x++){var v,b=M.ran(0,this.points[t].length);window.innerWidth<690?(v=200<this.points[t].length?8:5,150<this.points[t].length&&b>Math.floor(this.points[t].length/v)&&(this.points[t][x].hiddenDuringTrans=!0)):(800<this.points[t].length?v=6:this.points[t].length<=800&&600<this.points[t].length?v=4.5:this.points[t].length<=600&&400<this.points[t].length?v=3.5:this.points[t].length<=400&&(v=1.5),350<this.points[t].length&&b>Math.floor(this.points[t].length/v)&&(this.points[t][x].hiddenDuringTrans=!0))}t==M.imgsToDraw.length-1&&(M.draw(),0==a&&M.particlesRotate(!1))},updatePoints:function(){this.impulsX=this.impulsX-this.impulsX/30,this.impulsY=this.impulsY-this.impulsY/30;var t,e,a,n,i=this.points[Math.floor(this.currentShapeIndex)];for(1==this.onMobile?M.decMultiplier<.23&&(M.decMultiplier+=.0015):M.decMultiplier<.125&&(M.decMultiplier+=4e-4),t=0;t<i.length;t++){e=i[t],a=Math.atan2(e.y-this.mouse.y,e.x-this.mouse.x),50<(n=60*this.reactionSensitivity/Math.sqrt((this.mouse.x-e.x)*(this.mouse.x-e.x)+(this.mouse.y-e.y)*(this.mouse.y-e.y)))&&(n=0),i[t].time||(i[t].time=this.ran(70,200),i[t].deg=this.ran(-120,180),i[t].vel=this.ran(.08,.14));M.randomMovement;var o=i[t].vel,s=o*Math.cos(i[t].deg*Math.PI/180),o=o*Math.sin(i[t].deg*Math.PI/180);0!=M.loaded&&(e.x+=s,e.y+=o),0<i[t].curve?i[t].deg=i[t].deg+2:i[t].deg=i[t].deg-2,i[t].time=i[t].time-1,0==M.loaded?(i[t].vel<.4||(i[t].vel=+i[t].vel),e.x+=Math.cos(a)*n,e.y+=Math.sin(a)*n):0==M.randomMovement?0==M.sequenceActive?(e.baseRadius=Math.ceil(e.randomNum*M.imgsToDraw[Math.floor(this.currentShapeIndex)].maxParticleSize),e.baseRadiusOriginal=e.baseRadius,i[t].vel<.4?i[t].time=0:i[t].vel=i[t].vel-.008,e.x+=Math.cos(a)*n+(i[t].originalX-e.x)*M.decMultiplier,e.y+=Math.sin(a)*n+(i[t].originalY-e.y)*M.decMultiplier):void 0!==this.points[Math.floor(this.currentShapeIndex)][M.currentSequenceIndex][t]&&(e.x+=Math.cos(a)*n+.08*(this.points[Math.floor(this.currentShapeIndex)][0][t].seqX-e.x),e.y+=Math.sin(a)*n+.08*(this.points[Math.floor(this.currentShapeIndex)][0][t].seqY-e.y)):(0==t&&this.reactionSensitivity<8&&(this.reactionSensitivity=8),(s=i[t].randomNum*e.baseRadius/4)<.25&&(s=.25),i[t].time2||(i[t].time2=this.ran(300,900)),i[t].time2=i[t].time2-1,e.x+=Math.cos(a)*n+.027*(i[t].toX-e.x),e.y+=Math.sin(a)*n+.027*(i[t].toY-e.y),e.x<-.1*this.canvas.width&&(e.x=1.1*this.canvas.width,e.toX=1.1*this.canvas.width-4*this.ran(20,40)),e.x>1.1*this.canvas.width&&(e.x=-.1*this.canvas.width,e.toX=-.1*this.canvas.width+4*this.ran(20,40)),e.y<-.1*this.canvas.height&&(e.y=1.1*this.canvas.height,e.toY=1.1*this.canvas.height-4*this.ran(20,40)),e.y>1.1*this.canvas.height&&(e.y=-.1*this.canvas.height,e.toY=-.1*this.canvas.height+4*this.ran(20,40)),e.toX+=Math.floor(this.impulsX*s*30/30)+this.impulsX/7*e.randomPosX,e.toY+=Math.floor(this.impulsY*s*30/30)+this.impulsY/7*e.randomPosY,0<=e.shrinkDelay&&(e.shrinkDelay=e.shrinkDelay-.5),1==e.flashSize&&e.shrinkDelay<=0&&(e.baseRadius==e.baseRadiusOriginal&&0==e.shrinking&&(e.baseRadius=M.imgsToDraw[Math.floor(this.currentShapeIndex)].maxParticleSize+4,e.alpha=1,e.color="rgba("+e.a+","+e.g+","+e.b+",1)",e.shrinking=!0),e.baseRadius=1<e.baseRadius-.3?e.baseRadius-.3:1,e.alpha=e.alpha>=e.originalAlpha&&1!=e.originalAlpha?e.alpha-.01:e.originalAlpha,e.color="rgba("+e.r+","+e.g+","+e.b+","+e.alpha+")",e.baseRadius<=e.baseRadiusOriginal&&1==e.shrinking&&(e.baseRadius=e.baseRadiusOriginal,e.flashSize=!1,e.shrinking=!1,e.shrinkDelay=100*Math.random(),e.color="rgba("+e.r+","+e.g+","+e.b+","+e.originalAlpha+")",i[Math.floor(Math.random()*i.length)].flashSize=!0)))}},drawPoints:function(){for(var t=this.points[Math.floor(this.currentShapeIndex)],e=0;e<t.length;e++){var a=t[e];t[e].randomNum;1==a.hiddenDuringTrans&&1==M.randomMovement||(this.context.beginPath(),this.context.arc(a.x,a.y,a.baseRadius,0,2*Math.PI,!0),this.context.fillStyle=a.color,this.context.fill(),this.context.closePath())}},draw:function(){1==M.regularAnimation||1==M.randomMovement?(M.animation=requestAnimationFrame(M.draw),M.now=Date.now(),M.elapsed=M.now-M.then,16.666<M.elapsed&&(M.then=M.now-M.elapsed%16.666,0==y("#page-header-bg.out-of-sight").length&&(M.clear(),M.updatePoints(),M.drawPoints()))):(M.fpsDec+=.23,M.fps=0<=M.fps?M.fps-M.fpsDec:0,M.decMultiplier=.14,setTimeout(function(){M.animation=requestAnimationFrame(function(){0<M.fps&&M.draw()})},1e3/M.fps),0==y("#page-header-bg.out-of-sight").length&&(M.clear(),M.updatePoints(),M.drawPoints()))},clear:function(){this.context.clearRect(0,0,canvas.width,canvas.height)},ran:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},loadData:function(t,e,a,n){1==n?("object"!=typeof this.bgImage[e]&&(this.bgImage[e]=[]),this.bgImage[e][a]=new Image,this.bgImage[e][a].src=t):(this.bgImage[e]=new Image,this.bgImage[e].src=t),jQuery.isArray(this.bgImage[e])?this.bgImage[e][a].onload=function(){M.callDrawImageToBackground(e,a)}:this.bgImage[e].onload=function(){M.callDrawImageToBackground(e,a)}},particlesRotate:function(t){initTimeOut=1==t?0:800,setTimeout(function(){var t=0==M.loaded?M.rotateTimer+1e3:M.rotateTimer,e=(M.loaded=!0,setTimeout(function(){y(M.canvasID).attr("data-loaded","true")},1e3),1<M.imgsToDraw.length&&(M.timeoutHolder=setTimeout(function(){M.particleRotateLogic(!1)},t)),M.canvasBgColor(),M.canvasID);y(e).parents("#page-header-bg").hasClass("topBoxIn")||($timeOut=0<y(e).parents('#page-header-bg[data-text-effect="rotate_in"]').length?800:0,setTimeout(function(){y(e).parents(a).find(".inner-wrap.shape-1").css("z-index",100),y(e).parents(a).find(".inner-wrap.shape-1 .top-heading").transition({opacity:1,y:0},0),y(e).parents(a).find(".span_6").find(".wraped").each(function(t){y(this).find("span").delay(370*t).transition({rotateX:"0",opacity:1,y:0},400,"easeOutQuad")}),setTimeout(function(){y(e).parents(a).find(".span_6").find(".inner-wrap.shape-1 > *:not(.top-heading)").each(function(t){y(this).delay(370*t).transition({rotateX:"0",opacity:1,y:0},650,"easeOutQuad")}),setTimeout(function(){y(".scroll-down-wrap").removeClass("hidden"),1<M.imgsToDraw.length&&(y(".pagination-dots .pagination-dot").each(function(t){y(this).delay(75*t).transition({y:0,opacity:1},400)}),y(".pagination-navigation .pagination-current").each(function(t){y(this).delay(75*t).transition({y:0,opacity:1,scale:1.15},400)}),setTimeout(function(){o.data("pos",{y:0}),n.click(function(t){var e=y(this);e.index();void 0===t.originalEvent||e.hasClass("active")||M.particleRotateLogic(y(this).index()),y(a+" .pagination-dot").removeClass("active"),e.addClass("active")}),n.eq(0).click(),s.click(function(){n.eq(y(this).index()).click()})},75*y(e).parents(a).find(".pagination-dot").length+370))},y(e).parents(a).find(".inner-wrap.shape-1 > *:not(.top-heading)").length-400+370)},370*y(e).parents(a).find(".span_6").find(".wraped").length)},$timeOut))},initTimeOut),1!=t&&(y("#ajax-loading-screen").stop().transition({opacity:0},1e3,function(){y(this).css({display:"none"})}),y("#ajax-loading-screen .loading-icon").transition({opacity:0},1e3))},particleRotateLogic:function(t){if(clearTimeout(M.timeoutHolder),0<y(".canvas-bg.topBoxOut").length)return!1;var e="on"==M.disableExplosion?0:.4;if(Math.random()>e||!1!==t){!1!==t?(M.prevShapeIndex=M.currentShapeIndex,M.currentShapeIndex=t):M.currentShapeIndex=M.currentShapeIndex+1==M.imgsToDraw.length?0:M.currentShapeIndex+1,M.randomMovement,M.decMultiplier=.06;var a=M.currentShapeIndex==M.points.length?0:Math.floor(M.currentShapeIndex-1),n=(a=Math.floor(M.currentShapeIndex)-1==-1?M.points.length-1:a)-1==-1?M.points.length-1:a-1;for(i=0;i<M.points[M.currentShapeIndex].length;i++){var o=Math.random();r=!1!==t?(s=M.points[M.prevShapeIndex][Math.floor(o*M.points[M.prevShapeIndex].length)].x,M.points[M.prevShapeIndex][Math.floor(o*M.points[M.prevShapeIndex].length)].y):(s=(1==M.randomMovement&&(o=Math.random()),M.points[a][Math.floor(o*M.points[a].length)].x),M.points[a][Math.floor(o*M.points[a].length)].y),M.points[M.currentShapeIndex][i].x=s,M.points[M.currentShapeIndex][i].y=r}M.randomMovement;for(M.randomMovement=!1,y(M.canvasID).attr("data-randomMovement","false"),i=0;i<M.points[a].length;i++){var o=Math.random(),s=M.points[n][Math.floor(o*M.points[n].length)].originalX,r=M.points[n][Math.floor(o*M.points[n].length)].originalY,h=(M.points[a][i].x=s,M.points[a][i].y=r,M.points[a][i].toX=Math.random()*window.innerWidth,M.points[a][i].toY=Math.random()*window.innerHeight,Math.random()<.5);M.points[a][i].flashSize=h}4<this.reactionSensitivity&&(this.reactionSensitivity=690<window.innerWidth?4:1),e=!1!==t?d=t+1:(d=0==M.currentShapeIndex?M.imgsToDraw.length:M.currentShapeIndex,M.currentShapeIndex==M.points.length?0:Math.floor(M.currentShapeIndex+1)),M.shapeTextDisplay(d,e,t);var l=0<y(".nectar-box-roll").length?".nectar-box-roll":".nectar-particles",d=(0<y(M.canvasID).parents(l).find(".pagination-navigation").length&&0==t&&setTimeout(function(){y(M.canvasID).parents(l).find(".pagination-dot").eq(M.currentShapeIndex).click()},300),M.rotateTimer);M.timeoutHolder=setTimeout(function(){M.particleRotateLogic(!1)},d)}else{d=2800;for(M.timeoutHolder=setTimeout(function(){M.particleRotateLogic(!1)},d),M.randomMovement=!0,y(M.canvasID).attr("data-randomMovement","true"),M.impulsX=600*Math.random()-300,M.impulsY=300*-Math.random(),i=0;i<M.points[M.currentShapeIndex].length;i++){var c=M.points[M.currentShapeIndex][i];c.randomPosX=6*Math.random(),c.randomPosY=6*Math.random()}}M.canvasBgColor()},canvasBgColor:function(){jQuery(M.canvasID).parents(".nectar-particles").find(".canvas-bg").css({"background-color":M.imgsToDraw[M.currentShapeIndex].backgroundColor})},resetShapeTextTimeout:null,shapeTextDisplay:function(e,t,a){clearTimeout(M.resetShapeTextTimeout);var n=0<y(".nectar-box-roll").length?".nectar-box-roll":".nectar-particles";jQuery(M.canvasID).parents(n).find(".inner-wrap").css("z-index",10),!1!==a?(jQuery(M.canvasID).parents(n).find(".inner-wrap:not(.shape-"+e+")").each(function(t){y(this).find("> *").each(function(t){y(this).stop(!0,!0).delay(150*t).transition({opacity:"0"},250,"ease")})}),M.resetShapeTextTimeout=setTimeout(function(){jQuery(M.canvasID).parents(n).find(".inner-wrap:not(.shape-"+e+") > *").delay(50).transition({rotateX:0,y:"30px"},0)},200*jQuery(M.canvasID).parents(n).find(".inner-wrap:not(.shape-"+e+")").length)):(jQuery(M.canvasID).parents(n).find(".shape-"+e+" > *").each(function(t){y(this).stop(!0,!0).delay(150*t).transition({opacity:"0"},250,"ease")}),M.resetShapeTextTimeout=setTimeout(function(){jQuery(M.canvasID).parents(n).find(".shape-"+e+" > *").transition({rotateX:0,y:"30px"},0)},200*jQuery(M.canvasID).parents(n).find(".shape-"+e+" > *").length)),jQuery(M.canvasID).parents(n).find(".shape-"+t).css("z-index",100),jQuery(M.canvasID).parents(n).find(".shape-"+t+" > *").each(function(t){y(this).stop(!0,!0).delay(150*jQuery(M.canvasID).parents(n).find(".shape-"+e+" > *").length+175*t).transition({opacity:"1",y:0,rotateX:"0"},700,"ease")})},particleSequenceRotate:function(){setInterval(function(){for(var t,e,a,n=0;n<M.points.length;n++)if(!jQuery.isArray(M.points[n])&&"object"==typeof M.points[n])for(j=0;j<1;j++)for(var i=0;i<M.points[n][0].length;i++){for(var o=M.points[n][0][i],s=1e3,r=0;r<M.points[n][M.currentSequenceIndex].length;r++)1!=(t=M.points[n][M.currentSequenceIndex][r]).sequenceUsed&&((a=Math.sqrt((t.originalX-o.x)*(t.originalX-o.x)+(t.originalY-o.y)*(t.originalY-o.y)))<=s&&10<s&&(s=a,o.seqX=t.originalX,o.seqY=t.originalY,e=t),r==M.points[n][M.currentSequenceIndex].length-1&&(e.sequenceUsed=!0));if(i==M.points[n][0].length-1)for(r=0;r<M.points[n][M.currentSequenceIndex].length;r++)M.points[n][M.currentSequenceIndex][r].sequenceUsed=!1}M.currentSequenceIndex=M.currentSequenceIndex+1==Object.keys(M.points[M.currentShapeIndex]).length?0:M.currentSequenceIndex+1},80)},callDrawImageToBackground:function(t,e){if(M.loadedCount+=1,M.loadedCount==M.totalImgCount)for(var a=0;a<M.imgsToDraw.length;a++)if(jQuery.isArray(this.bgImage[a]))for(j=0;j<M.imgsToDraw[a].shape.length;j++)M.drawImageToBackground(a,j,!1,!0);else M.drawImageToBackground(a,null,!1,!0)},drawImageToBackground:function(t,e,a,n){shapeIndex=null==e?this.bgImage[t]:this.bgImage[t][e],this.bgCanvas=document.createElement("canvas"),this.bgCanvas.width=this.canvas.width,this.bgCanvas.height=this.canvas.height;var i,o,s=0<y(".nectar-box-roll").length?".nectar-box-roll":".nectar-particles",s="bottom"==M.textPosition&&"center"==M.textPositionH?y(M.canvasID).parents(s).find(".inner-wrap").height()/1.3+50:0,r=(this.bgCanvas.height<650&&(s/=2),shapeIndex.width>this.bgCanvas.width-50-s||shapeIndex.height>this.bgCanvas.height-50-s?(r=Math.max(shapeIndex.width/(this.bgCanvas.width-50),shapeIndex.height/(this.bgCanvas.height-100-s)),i=shapeIndex.width/r,o=shapeIndex.height/r,this.bgCanvas.width<1600?3<r&&r<=4?(this.imgsToDraw[t].density=this.imgsToDraw[t].densityOriginal-3,3<=this.imgsToDraw[t].maxParticleSize&&(this.imgsToDraw[t].maxParticleSize=this.imgsToDraw[t].maxParticleSizeOriginal-1)):4<r?(800<this.bgCanvas.width?this.imgsToDraw[t].density=this.imgsToDraw[t].densityOriginal-4:this.imgsToDraw[t].density=this.imgsToDraw[t].densityOriginal-5,2<this.imgsToDraw[t].maxParticleSize&&(this.imgsToDraw[t].maxParticleSize=2)):r<=3&&(this.imgsToDraw[t].density=this.imgsToDraw[t].densityOriginal,this.imgsToDraw[t].maxParticleSize=this.imgsToDraw[t].maxParticleSizeOriginal):(this.imgsToDraw[t].density=this.imgsToDraw[t].densityOriginal,this.imgsToDraw[t].maxParticleSize=this.imgsToDraw[t].maxParticleSizeOriginal)):(i=shapeIndex.width,o=shapeIndex.height),0<y('#header-outer[data-transparent-header="true"]').length&&0==y("body.mobile").length||0<y('#header-outer[data-permanent-transparent="1"]').length?0:y("#header-outer").height());this.bgContext=this.bgCanvas.getContext("2d"),this.bgContext.drawImage(shapeIndex,(this.canvas.width-i)/2,(this.canvas.height+r/2-o-+s)/2,i,o),this.bgContextPixelData=this.bgContext.getImageData(0,0,this.bgCanvas.width,this.bgCanvas.height),this.preparePoints(t,e,a)},onWindowResize:function(){if(cancelAnimationFrame(this.animation),M.loadedCount==M.imgsToDraw.length)for(var t=0;t<M.imgsToDraw.length;t++)this.drawImageToBackground(t,null,!0,!1);this.onMobile=this.canvas.width<=690}},a=(0<e.length&&M.init("#canvas"),0<y(".nectar-box-roll").length?".nectar-box-roll":".nectar-particles");var n=y(a+" .pagination-dot"),o=y(a+" .pagination-current"),s=y(a+" .pagination-item");parseFloat(n.css("height")),parseFloat(n.css("marginBottom")),Date.now();var r="not-rolled",h="false";function l(t,e){0<y("#slide-out-widget-area.open").length||("not-rolled"==r&&"false"==h&&-1==e&&0<y('.nectar-box-roll canvas[data-loaded="true"]').length?(r="rolled",h="true",M.mouse.x=2e3,M.mouse.y=-2e3,M.regularAnimation=!1,setTimeout(function(){h="false"},1650),clearTimeout(M.timeoutHolder)):"rolled"==r&&"false"==h&&1==e&&y(window).scrollTop()<100&&(r="not-rolled",h="true",setTimeout(function(){h="false",M.regularAnimation=!0},1600),0==M.randomMovement&&setTimeout(function(){M.draw(),M.fps=43,M.fpsDec=.13,M.decMultiplier=.06},1630),1==M.randomMovement&&(M.draw(),setTimeout(function(){M.impulsX=800*Math.random()-400,M.impulsY=400*-Math.random()},400),setTimeout(function(){M.particleRotateLogic(!1)},3400)),0==M.randomMovement&&M.particlesRotate(!0)))}0<e.length&&(y("body").mousewheel(function(t,e){if(0<y("#slide-out-widget-area.open.fullscreen").length)return!1;l(0,e)}),y("body").on("click",".nectar-box-roll .section-down-arrow",function(){return l(0,-1),y(this).addClass("hovered"),!1}),navigator.userAgent.match(/(Android|iPod|iPhone|iPad|BlackBerry|IEMobile|Opera Mini)/)&&y("body").swipe({swipeStatus:function(t,e,a,n,i,o){if(0<y("#slide-out-widget-area.open").length)return!1;"up"==a?(l(0,-1),0==y("#ajax-content-wrap.no-scroll").length&&y("body").swipe("option","allowPageScroll","vertical")):"down"==a&&0==y(window).scrollTop()&&(l(0,1),y("body").swipe("option","allowPageScroll","auto"))}}))});