function item_form_basket(e){var r=[];return e.each(function(e,t){var o=jQuery(t).val(),n=jQuery(t).attr("name"),a=jQuery(t).attr("product_id"),t=jQuery(t).attr("attr_razmer");0<Number(o)&&r.push({product_id:a,quantity:o,variation:{attribute_pa_razmer:t},variation_id:n})}),r}function eeUpdateContentCart(e,t){item_form_basket(t),location.reload()}function eeStartLoader(){jQuery("form.ee_desc_form").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),jQuery("form.ee_mobile_form").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),jQuery("div.cart-collaterals").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}jQuery(document).ready(function(n){jQuery("form.ee_desc_form").on("click","a.remove",function(){var t=jQuery("form.ee_desc_form").find('input[type="number"]'),e=jQuery(this).data("product_id");jQuery.ajax({type:"POST",url:location.href,data:{action:"remove_product_basket",product_id:e},beforeSend:function(){eeStartLoader()},success:function(e){eeUpdateContentCart(e,t)}})}),jQuery("form.ee_mobile_form").on("click","a.remove",function(){var t=jQuery("form.ee_mobile_form").find('input[type="number"]'),e=jQuery(this).data("product_id");jQuery.ajax({type:"POST",url:location.href,data:{action:"remove_product_basket",product_id:e},beforeSend:function(){eeStartLoader()},success:function(e){eeUpdateContentCart(e,t)}})}),jQuery("form.woocommerce-cart-form").on("change",'input[type="number"]',function(){var e=jQuery(this),t=jQuery(e).val(),o=jQuery(e).attr("max");Number(t)>Number(o)?e.val(o):Number(t)<0&&e.val(0)}),jQuery("form.ee_mobile_form").on("click",'button[name="update_cart"]',function(e){e.preventDefault();var t=jQuery("form.ee_mobile_form").find('input[type="number"]'),e={action:"remove_product_basket",product_id:"full",items:item_form_basket(t)};jQuery.ajax({type:"POST",url:location.href,data:e,beforeSend:function(){eeStartLoader()},success:function(e){eeUpdateContentCart(e,t)}})}),jQuery("form.ee_desc_form").on("click",'button[name="update_cart"]',function(e){e.preventDefault();var t=jQuery("form.ee_desc_form").find('input[type="number"]'),e={action:"remove_product_basket",product_id:"full",items:item_form_basket(t)};jQuery.ajax({type:"POST",url:location.href,data:e,beforeSend:function(){eeStartLoader()},success:function(e){eeUpdateContentCart(e,t)}})}),jQuery(document).on("click",'button[name="clear-cart"]',function(e){e.preventDefault();jQuery.ajax({type:"POST",url:location.href,data:{action:"empty_all"},success:function(e){""!==e&&(document.location.reload(),n(document).ready(function(e){e(document).find(".woocommerce-error").attr("style","display:none;")}))}})}),n("span.news").empty(),n(".recall-phone").mask("+7 (999) 999-9999"),n(".recall-button").on("click",function(){n.fancybox.open({src:"#recall-popup"}),n(".news").removeClass("bad-news"),n(".news").removeClass("good-news"),n(".news").html("")}),n("#send_mail").on("click",function(){var e=n(this),t=n(".recall-phone").val().length;let o=!1;n(e).prop("disabled",!0),0==t&&(n(".news").addClass("bad-news"),n(".news").html("Укажите Ваш номер телефона!"),o=!0),0!==t&&17!==t&&(n(".news").addClass("bad-news"),n(".news").html("Ваш телефон указан не верно!"),o=!0);e=n("input.phone").val(),t=n("input.name").val();console.log(e),console.log(t),n.ajax({type:"POST",url:"/wp-content/themes/salient/send_mail.php",data:{action:"send_mail",phone:e,name:t},beforeSend:function(){eeStartLoader()},success:function(e){console.log(e),n("span.news").empty(),"true"==e.status?n("span.news").text("Ваше сообщение принято!  Вам скоро перезвонят."):n("span.news").text("Ошибка отправки!  Повторите попытку!"),setTimeout(function(){n.fancybox.close()},2e3),console.log(e)}})});window.location.href;n("p#billing_postcode_field").addClass("none"),n("#openBut").on("click",function(){n("#openButtons").toggleClass()})});