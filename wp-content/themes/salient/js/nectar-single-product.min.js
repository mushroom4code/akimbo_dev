!function(a){"use strict";var l,d,n,c,i,s,r={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,preventClicks:!0,onShow:void 0,onHide:void 0};function o(t,e){return this.$target=a(t),this.opts=a.extend({},r,e),void 0===this.isOpen&&this._init(),this}o.prototype._init=function(){var e=this;this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=a('<div class="easyzoom-flyout" />'),this.$notice=a('<div class="easyzoom-notice" />'),this.$target.on("mouseenter.easyzoom touchstart.easyzoom",function(t){e.isMouseOver=!0,t.originalEvent.touches&&1!==t.originalEvent.touches.length||(t.preventDefault(),e.show(t,!0))}).on("mousemove.easyzoom touchmove.easyzoom",function(t){e.isOpen&&(t.preventDefault(),e._move(t))}).on("mouseleave.easyzoom touchend.easyzoom",function(){e.isMouseOver=!1,e.isOpen&&e.hide()}),this.opts.preventClicks&&this.$target.on("click.easyzoom","a",function(t){t.preventDefault()})},o.prototype.show=function(t,e){var i,a,s,r,o=this;this.isReady?(this.$target.append(this.$flyout),i=this.$target.width(),a=this.$target.height(),s=this.$flyout.width(),r=this.$flyout.height(),l=this.$zoom.width()-s,d=this.$zoom.height()-r,n=l/i,c=d/a,this.isOpen=!0,this.opts.onShow&&this.opts.onShow.call(this),t&&this._move(t)):this._load(this.$link.attr("href"),function(){!o.isMouseOver&&e||o.show(t)})},o.prototype._load=function(t,e){var i=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=a(i),i.onerror=a.proxy(function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},this),i.onload=a.proxy(function(){i.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),e())},this),i.style.position="absolute",i.src=t},o.prototype._move=function(t){s=0===t.type.indexOf("touch")?(e=t.touches||t.originalEvent.touches,i=e[0].pageX,e[0].pageY):(i=t.pageX||i,t.pageY||s);var e=this.$target.offset(),t=s-e.top,e=i-e.left,t=Math.ceil(t*c),e=Math.ceil(e*n);e<0||t<0||l<e||d<t?this.hide():this.$zoom.css({top:-1*t+"px",left:-1*e+"px"})},o.prototype.hide=function(){this.isOpen&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide&&this.opts.onHide.call(this))},o.prototype.swap=function(t,e,i){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),a.isArray(i)&&(i=i.join()),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:t,srcset:i}),this.$link.attr("href",e)},o.prototype.teardown=function(){this.hide(),this.$target.removeClass("is-loading is-ready is-error").off(".easyzoom"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},a.fn.easyZoom=function(e){return this.each(function(){var t=a.data(this,"easyZoom");t?void 0===t.isOpen&&t._init():a.data(this,"easyZoom",new o(this,e))})},"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof module&&module.exports&&(module.exports=o)}(jQuery),jQuery(document).ready(function(r){var t;function i(a,t,s){var r=window.scrollY||document.documentElement.scrollTop,a=a||0,t=t||2e3,s=s||"easeOutSine",o=0,l=Math.max(.1,Math.min(Math.abs(r-a)/t,.8)),d={easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}};!function t(){var e=(o+=1/60)/l,i=d[s](e);e<1?(requestAnimationFrame(t),window.scrollTo(0,r+(a-r)*i)):window.scrollTo(0,a)}()}function a(i){var t,a=r(".woocommerce-product-gallery").width(),s=!1;r(i).each(function(t,e){if(i.find("img").data("large_image_width")>a)return!(s=!0)}),s&&(t=r.extend({touch:!1},wc_single_product_params.zoom_options),"ontouchstart"in document.documentElement&&(0<r('[data-gallery-style="left_thumb_sticky"]').length&&1e3<r(window).width()||(t.on="click")),i.trigger("zoom.destroy"),i.zoom(t))}r("body").hasClass("mobile")||r().zoom||(n=r(".easyzoom").easyZoom({preventClicks:!0,loadingNotice:" ",errorNotice:" "}),0<r(".easyzoom").length&&(t=n.data("easyZoom"),r("table.variations").on("change","select",function(){t.teardown(),t._init()})));var s=!1,o=!1;function e(){s=r(".product div.images .flickity.product-slider .slider").flickity({draggable:!0,imagesLoaded:!0,prevNextButtons:!1,pageDots:!1,resize:!0,adaptiveHeight:!0,on:{change:function(t){r().zoom&&a(this.$element.find(".flickity-slider > .slide:eq("+t+")")),this.$element.find(".flickity-slider > .slide").removeClass("flex-active-slide"),this.$element.find(".flickity-slider > .slide:eq("+t+")").addClass("flex-active-slide")}}}),o=r(".product div .flickity.product-thumbs .slider").flickity({asNavFor:".images .flickity.product-slider .slider",contain:!0,resize:!0,groupCells:!0,adaptiveHeight:!0,imagesLoaded:!0,prevNextButtons:!0,cellAlign:"left",pageDots:!1})}function l(){r('[data-gallery-style="left_thumb_sticky"] .flickity.product-slider .slide').each(function(t){t+=1,r(this).find(".woocommerce-product-gallery__image").attr("id","nectar_woo_gallery_slide_"+t),a(r(this))}),r('[data-gallery-style="left_thumb_sticky"] .flickity.product-thumbs .thumb').each(function(t){t+=1,r(this).find(".thumb-inner").wrapInner('<a class="skip-hash" href="#nectar_woo_gallery_slide_'+t+'" />'),r(this).find(".thumb-inner a").on("click",function(t){t.preventDefault()})}),0==r('.product[data-gallery-style="left_thumb_sticky"] .product-thumbs .thumb-inner > a.active').length&&r('.product[data-gallery-style="left_thumb_sticky"] .product-thumbs .thumb:first-child .thumb-inner > a').addClass("active")}var d,n,c,h=r(window).scrollTop(),u=r("#header-space").height();function m(){h=r(window).scrollTop();var t=r('.product[data-gallery-style="left_thumb_sticky"] .images .slide:first-child'),e=(r('.product[data-gallery-style="left_thumb_sticky"] .images .slide').each(function(){r(this).offset().top-h<u+250&&(t=r(this))}),t.find(".woocommerce-product-gallery__image").attr("id"));0<r(".product-thumbs .thumb-inner").find('a[href="#'+e+'"]').length&&(r(".product-thumbs .thumb-inner a").removeClass("active"),r(".product-thumbs .thumb-inner").find('a[href="#'+e+'"]').addClass("active"))}function g(){r(window).width()<1e3&&0==s&&0==o?(e(),r('[data-gallery-style="left_thumb_sticky"] .flickity.product-slider .slide').each(function(t){r(this).find(".woocommerce-product-gallery__image").attr("id","")}),r('[data-gallery-style="left_thumb_sticky"] .flickity.product-thumbs .thumb').each(function(t){r(this).find(".thumb-inner > a > img").unwrap()})):1e3<r(window).width()&&s&&o&&(l(),s.flickity("destroy"),o.flickity("destroy"),o=s=!1)}0<r('[data-gallery-style="left_thumb_sticky"]').length?(g(),l(),r(window).on("resize",g),0==r("body.using-mobile-browser").length&&(1<r('.product[data-gallery-style="left_thumb_sticky"] .images .slide').length&&r(window).on("scroll",function(){requestAnimationFrame(m)}),r("body").on("mouseover",'.product[data-gallery-style="left_thumb_sticky"] .images .slide',function(){(0<r(this).find(".woocommerce-product-gallery__image img[data-large_image_width]").length?parseInt(r(this).find(".woocommerce-product-gallery__image img").data("large_image_width")):0)>r(".single-product .images .product-slider").width()?(r(this).removeClass("nectar-no-larger-img"),r(this).hasClass("zoom-img-active")&&clearTimeout(d)):r(this).addClass("nectar-no-larger-img")}),r("body").on("mouseleave",'.product[data-gallery-style="left_thumb_sticky"] .images .slide',function(){r(this).hasClass("zoom-img-active")&&clearTimeout(d);var t=r(this);d=setTimeout(function(){t.removeClass("zoom-img-active")},300)}),r("body").on("mouseup",'.product[data-gallery-style="left_thumb_sticky"] .images .slide',function(){clearTimeout(d),r(this).hasClass("zoom-img-active")?r(this).removeClass("zoom-img-active"):(r('.product[data-gallery-style="left_thumb_sticky"] .images .slide').removeClass("zoom-img-active"),r(this).addClass("zoom-img-active"))}))):0<r('[data-gallery-style="ios_slider"]').length&&e(),0<r(".slider").length&&($startingImage=0<r(".slide div a:first > img").length?r(".slide div a:first > img").attr("src"):"",$startingImageLink=0<r(".slide div a:first").length?r(".slide div a:first").attr("href"):"",$startingImageThumb=0<r(".slider > .thumb:first .thumb-inner img").length?r(".slider > .thumb:first .thumb-inner img").attr("src"):$startingImage,r('select[name*="attribute_"]').blur(function(){var t=r(this),e=r(".variations_form").data("product_variations");0<t.val().length?setTimeout(function(){r(e).each(function(t,e){e.image&&e.image.src?e.image.src==r(".slide div a:first > img").attr("src")&&e.image.url&&(r(".slide div a:first").attr("href",e.image.url),r(".slide div a:first > img").attr("src",e.image.src),e.image.gallery_thumbnail_src&&(r(".product-thumbs .flickity-slider > .thumb:first-child img, .product-thumbs .slider > .thumb:first-child img").attr("src",e.image.gallery_thumbnail_src).removeAttr("srcset"),0<r('[data-gallery-style="left_thumb_sticky"]').length&&0==r("body.mobile").length?i(0,700,"easeInOutQuint"):(o.flickity("selectCell",0),s.flickity("selectCell",0),s.flickity("resize")),r().zoom&&(0<r('[data-gallery-style="left_thumb_sticky"]').length&&0==r("body.mobile").length?a(r(".product-slider .slider > .slide:first-child")):0<r('[data-gallery-style="ios_slider"]').length&&a(r(".product-slider .flickity-slider > .slide:first-child"))))):e.image_src==r(".slide div a:first > img").attr("src")&&e.image_link&&(r(".slide div a:first").attr("href",e.image_link),r(".slide div a:first > img").attr("src",e.image_src),r(".slider > .thumb:first .thumb-inner img").attr("src",e.image_src).removeAttr("srcset"))})},30):(r(".slide div a:first").attr("href",$startingImageLink),r(".slide div a:first > img").attr("src",$startingImage),r(".product-thumbs .flickity-slider > .thumb:first-child img, .product-thumbs .slider > .thumb:first-child img").attr("src",$startingImageThumb).removeAttr("srcset"),0<r('[data-gallery-style="left_thumb_sticky"]').length&&0==r("body.mobile").length||s.flickity("resize"),r().zoom&&(0<r('[data-gallery-style="left_thumb_sticky"]').length&&0==r("body.mobile").length?a(r(".product-slider .slider > .slide:first-child")):0<r('[data-gallery-style="ios_slider"]').length&&a(r(".product-slider .flickity-slider > .slide:first-child"))))})),r().theiaStickySidebar&&0<r('.product[data-gallery-style="left_thumb_sticky"] .product-slider .slide').length&&(n=r('.single-product .product[data-gallery-style="left_thumb_sticky"] > .single-product-main-image').detach(),c=(0<r('.product[data-gallery-style="left_thumb_sticky"][data-tab-pos="in_sidebar"]').length?r('.single-product .product[data-gallery-style="left_thumb_sticky"] > .single-product-summary'):r('.single-product .product[data-gallery-style="left_thumb_sticky"] > .summary.entry-summary')).detach(),r('.single-product .product[data-gallery-style="left_thumb_sticky"]').prepend('<div class="nectar-sticky-prod-wrap" />'),r('.single-product .product[data-gallery-style="left_thumb_sticky"] .nectar-sticky-prod-wrap').append(n).append(c),r('.product[data-gallery-style="left_thumb_sticky"] .flickity.product-thumbs, .product[data-gallery-style="left_thumb_sticky"][data-tab-pos="in_sidebar"] .single-product-summary, .product[data-gallery-style="left_thumb_sticky"][data-tab-pos="fullwidth"] .summary.entry-summary').each(function(){var t,e;$ssExtraTopSpace=50,$secondaryHeaderHeight=0<r("#header-secondary-outer").length?r("#header-secondary-outer").height():0,0<r('#header-outer[data-remove-fixed="0"]').length&&0==r('body[data-hhun="1"]').length&&0==r('#header-outer[data-format="left-header"]').length&&($ssExtraTopSpace+=r("#header-outer").outerHeight(),0<r('#header-outer[data-shrink-num][data-header-resize="1"]').length&&(e=6,t=parseInt(r("#header-outer").attr("data-padding"))-parseInt(r("#header-outer").attr("data-padding"))/1.8,e=r("#header-outer").attr("data-shrink-num"),$ssExtraTopSpace=$ssExtraTopSpace-e-t),0==r("body.mobile").length&&0<r('#header-outer[data-condense="true"]').length&&(e=r('#header-outer[data-format="centered-menu-bottom-bar"] header#top .span_9'),r("#header-secondary-outer"),$ssExtraTopSpace=50,$ssExtraTopSpace+=r("#header-outer").height()-(parseInt(e.position().top)-parseInt(r("#header-outer #logo").css("margin-top")))-parseInt($secondaryHeaderHeight))),0<r("#wpadminbar").length&&($ssExtraTopSpace+=r("#wpadminbar").outerHeight()),"1"==r("#header-outer").attr("data-using-secondary")&&($ssExtraTopSpace+=r("#header-secondary-outer").outerHeight()),r(this).theiaStickySidebar({additionalMarginTop:$ssExtraTopSpace,updateSidebarHeight:!1})}))});