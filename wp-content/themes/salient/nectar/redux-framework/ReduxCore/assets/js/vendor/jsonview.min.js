function collapse(e){var t,e=e.target,s=e.parentNode.getElementsByClassName("collapsible");s.length&&("none"===(s=s[0]).style.display?(t=s.parentNode.getElementsByClassName("ellipsis")[0],s.parentNode.removeChild(t),s.style.display=""):(s.style.display="none",(t=document.createElement("span")).className="ellipsis",t.innerHTML=" &hellip; ",s.parentNode.insertBefore(t,s)),e.innerHTML="-"===e.innerHTML?"+":"-")}function addCollapser(e){var t;"LI"===e.nodeName&&((t=document.createElement("div")).className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild))}function jsonView(e,t){if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find that element"));this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find the target element"));this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var e=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,t=/^\s*([\[\{].*[\}\]])\s*$/.test(this.data),s=e.test(this.data);if(this.debug&&console.log("JSONView: is_json="+t+" is_jsonp="+s),t||s){function i(){}this.debug&&console.log("JSONView: sexytime!"),i.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,s="";return null===e?s+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?s+=this.arrayToHTML(e):"object"==t?s+=this.objectToHTML(e):"number"==t?s+=this.decorateWithSpan(e,"num"):"string"==t?/^(http|https):\/\/[^\s]+$/.test(e)?s+='<a href="'+e+'">'+this.htmlEncode(e)+"</a>":s+=this.decorateWithSpan('"'+e+'"',"string"):"boolean"==t&&(s+=this.decorateWithSpan(e,"bool")),s},arrayToHTML:function(e){var t,s='[<ul class="array collapsible">',i=!1;for(t in e)i=!0,s=(s+="<li>")+this.valueToHTML(e[t])+"</li>";return s+="</ul>]",s=i?s:"[ ]"},objectToHTML:function(e){var t,s='{<ul class="obj collapsible">',i=!1;for(t in e)i=!0,s=(s=(s+="<li>")+'<span class="prop">'+this.htmlEncode(t)+"</span>: ")+this.valueToHTML(e[t])+"</li>";return s+="</ul>}",s=i?s:"{ }"},jsonToHTML:function(e,t,s){var i="";return t?i=i+'<div class="callback">'+t+' (</div><div id="json">':i+='<div id="json">',i=i+this.valueToHTML(e)+"</div>",t&&(i+='<div class="callback">)</div>'),this.toHTML(i,s)},errorPage:function(e,t,s){var i='<div id="error">Error parsing JSON: '+e.message+"</div>",i=(i+="<h1>"+e.stack+":</h1>")+('<div id="json">'+this.htmlEncode(t)+"</div>");return this.toHTML(i,s+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new i;var t="",s="",o="",e=e.exec(this.data),s=e&&3===e.length?(this.debug&&console.log("THIS IS JSONp"),o=e[1],e[2]):(this.debug&&console.log("Vanilla JSON"),this.data);this.debug&&console.log(s);try{var n=JSON.parse(s);if(!n)throw"There was no object!";t=this.jsonFormatter.jsonToHTML(n,o)}catch(e){this.debug&&console.log(e),t=this.jsonFormatter.errorPage(e,this.data)}for(var a,e="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>",l=(void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target),"class"===this.idType?(a=document.getElementsByClassName(this.id))&&(a.className+=a.className?" jsonViewOutput":"jsonViewOutput",a.innerHTML=e+t):"id"===this.idType&&((a=document.getElementById(this.id))&&(a.className+=a.className?" jsonViewOutput":"jsonViewOutput",a.innerHTML=e+t),a.innerHTML=e+t),document.getElementsByClassName("collapsible")),r=0;r<l.length;r++)addCollapser(l[r].parentNode)}}